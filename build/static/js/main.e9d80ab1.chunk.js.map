{"version":3,"sources":["modules/ProductList/ProductList.actions.js","modules/ProductList/ProductList.reducer.js","modules/Cart/Cart.actions.js","modules/Cart/Cart.reducer.js","reducers.js","DevTools.js","store.js","localStorage.js","modules/Header/SearchBar.js","modules/Header/Header.js","modules/Footer/Footer.js","modules/Cart/CartItem.js","modules/Cart/DiscountInput.js","modules/Cart/CartSummary.js","modules/Cart/Cart.js","modules/Cart/Cart.container.js","modules/MainLayout.js","modules/ProductThumbnail/ProductThumbnail.js","modules/ProductsFilter/Checkbox.js","modules/ProductsFilter/ChecklistFilter.js","modules/ProductsFilter/RangeSlider.js","modules/ProductsFilter/ProductFilter.js","modules/PagePagination/PagePagination.js","modules/ProductsFilter/SortingSelectConfig.js","modules/ProductsFilter/SortingSelect.js","modules/ProductsFilter/ProductFilterConfig.js","modules/ProductList/SortConfig.js","modules/ProductList/ProductList.js","modules/ProductList/ProductList.container.js","modules/ProductPage/ProductPage.js","modules/ProductPage/ProductPage.container.js","modules/AccountPage/PreviousOrder.js","modules/AccountPage/AccountPage.js","modules/AccountPage/AccountPage.container.js","modules/Faq/Faq.js","modules/Terms/Terms.js","modules/NotFound/NotFound.js","App.js","serviceWorker.js","index.js"],"names":["GET_PRODUCTS","SET_SEARCH_QUERY","apiUrl","fetchProductList","dispatch","axios","get","then","response","products","data","type","isLoading","catch","error","setSearchQuery","searchQuery","filterType","initialState","ADD_TO_CART","REMOVE_FROM_CART","CHANGE_QUANTITY","CALCULATE_CART","APPLY_DISCOUNT","REFRESH_CART","COUNT_SHIPPING","productsInCart","valueInCart","discount","discountApplied","shippingPrice","combineReducers","productList","state","arguments","length","undefined","action","Object","objectSpread","query","cartReducer","addedProduct","id","price","existedProduct","find","quantity","uniqBy","concat","toConsumableArray","reject","changedProduct","merge","Number","forEach","product","createDevTools","react_default","a","createElement","redux_devtools_dock_monitor_lib_default","toggleVisibilityKey","changePositionKey","redux_devtools_log_monitor_lib_default","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","enhancers","applyMiddleware","thunk","DevTools","instrument","store","createStore","reducers","compose","apply","subscribe","throttle","stringify","setItem","saveState","getState","SearchBar","handleChange","e","_this","props","target","value","handleSearch","preventDefault","history","push","this","_this2","onSubmit","className","onChange","ref","Component","mapDispatchToProps","withRouter","connect","Header","react_router_dom","to","Header_SearchBar","xmlns","width","height","viewBox","d","onClick","handleCartVisibility","preserveAspectRatio","Footer","CartItem","increaseQuantity","qty","changeQuantity","decreaseQuantity","_this$props$item","item","title","cover","_this$props","removeFromCart","prevPrice","src","process","alt","react","toFixed","DiscountInput","applyDiscount","onSubmitDiscount","isEmpty","discountCode","trim","toUpperCase","countShip","parentNode","classList","add","setAttribute","onCancelDiscount","placeholder","CartSummary","scope","map","key","Cart","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","recountShip","countShipping","setState","productsAppearance","handleCheckout","_this$state","checkout","checkoutComplete","handleOrderConfirmation","order","date","moment","format","ordered","totalValue","sendOrder","renderOrderSummary","uuid","v4","Cart_CartSummary","renderProductsInCart","cartItems","Cart_CartItem","react_transition_group","transitionName","transitionAppear","transitionAppearTimeout","transitionEnter","transitionLeave","calculateCart","prevProps","cartIn","Cart_DiscountInput","val","disabled","post","propTypes","PropTypes","arrayOf","object","isRequired","number","any","bool","func","_state$cartReducer","MainLayout","onCartInOrOut","numberInCart","transitionEnterTimeout","transitionLeaveTimeout","modules_Header_Header","getProductsInCart","Cart_container","children","modules_Footer_Footer","ProductThumbnail","_props$product","Checkbox","_ref","label","isSelected","onFilterChange","numberOfType","name","checked","htmlFor","ChecklistFilter","checklist","handleChecklistChanges","checklistType","crit","keys","option","ProductsFilter_Checkbox","sumBy","Range","createSliderWithTooltip","Slider","RangeSlider","getMinMaxProductValues","minVal","minBy","p","maxVal","maxBy","min","Math","floor","max","ceil","onSliderChange","_this$props2","handleRange","rangeType","handleSliderReset","_this$props3","handleRangeReset","reset","prevState","_marks","marks","defineProperty","allowCross","defaultValue","tipFormatter","trackStyle","backgroundColor","handleStyle","border","railStyle","nextProps","ProductFilter","getChecklist","checklistOptions","uniq","handleChecklistChange","handleFilterSettings","activeFilter","pickBy","handleChecklist","handleRangeFilter","debounce","range","handleResetSettings","genreFilter","mapValues","badgeFilter","handleReset","resetPriceRange","resetReleaseYearRange","handleShowMore","showMore","reduce","options","rangeFilteredProducts","ProductsFilter_ChecklistFilter","handleChecklistFilterChanges","ProductsFilter_RangeSlider","PagePagination","changeProductPage","currentPage","handleTurningPage","increaseProductPage","pageNumber","prevPage","decreaseProductPage","renderPageNumbers","pageNumbers","i","num","noMatch","sortingConfig","byPopularity","priceAsc","priceDesc","titleAsc","titleDesc","SortingSelect","onSelect","sortingWay","_this$state$sortingWa","handleSortingBySelection","sortingType","defaultSettings","_this2$state$sortingW","filterConfig","byGenre","includes","genre","byBadge","badge","byPriceRange","priceRange","byReleaseYear","year","releaseYearRange","bySearchQuery","toLowerCase","sortConfig","sortingBySelection","productsByDefault","activeSortingFilter","orderBy","ProductList","handlePageNumeration","productsPerPage","filteredProducts","window","scrollTo","top","behavior","_this$setState","handleFilteringProducts","handleChecklistFilter","activeChecklistFilter","_this$setState2","filter","getRangeFilteredProducts","slice","handleProductListReset","resetSortingSelect","getDisplayedProducts","_this$state2","indexOfLastProduct","indexOfFirstProduct","renderProducts","displayedProducts","modules_ProductThumbnail_ProductThumbnail","_this$props$searchQue","_this$props$searchQue2","_this$state3","dist_default","fadeIn","ProductsFilter_ProductFilter","ProductsFilter_SortingSelect","component","Fragment","modules_PagePagination_PagePagination","_state$productList","ProductPage","addToCart","desc","variant","ProductPageContainer","selectedProduct","match","params","modules_ProductPage_ProductPage","PreviousOrder","handleShowSummary","summaryShown","substr","AccountPage","orders","AccountPage_PreviousOrder","AccountPageContainer","modules_AccountPage_AccountPage","Faq","Terms","NotFound","App","es","src_modules_MainLayout","react_router","render","location","react_transition_group_v2_lib","timeout","enter","exit","classNames","exact","path","Boolean","hostname","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e9d80ab1.chunk.js","sourcesContent":["import axios from 'axios';\nexport const GET_PRODUCTS = 'GET_PRODUCTS';\nexport const FETCH_PRODUCT_LIST = 'FETCH_PRODUCT_LIST';\nexport const FETCH_PRODUCT = 'FETCH_PRODUCT';\nexport const SET_SEARCH_QUERY = 'SET_SEARCH_QUERY'\n\nconst apiUrl = 'videodreams.herokuapp.com/products';\n\nexport function getProducts(products) {\n    return {\n        type: GET_PRODUCTS,\n        products\n    }\n}\n\nexport function fetchProductList() {\n    return (dispatch) => {\n        return axios.get(apiUrl)\n            .then(response => {\n                dispatch(getProducts(response.data), { isLoading: true })\n            })\n            .catch(error => {\n                throw(error);\n            });\n    };\n};\n\nexport function setSearchQuery(searchQuery, filterType) {\n    return {\n        type: SET_SEARCH_QUERY,\n        searchQuery,\n        filterType\n    }\n}","import { GET_PRODUCTS, SET_SEARCH_QUERY } from './ProductList.actions';\n\nconst initialState = {\n    products: [],\n    searchQuery: {},\n    isLoading: true\n};\n\nexport default function productList(state = initialState, action) {\n    switch (action.type) {\n        case GET_PRODUCTS: {\n            const products = action.products;\n            return { ...state, products, isLoading: false };\n        }\n        case SET_SEARCH_QUERY: {\n            const query = action.searchQuery;\n            const filterType = action.filterType;\n            const searchQuery = {query, filterType};\n            return { ...state, searchQuery };\n        }\n        default: {\n            return state;\n        }\n    }\n}","import axios from 'axios';\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const CHANGE_QUANTITY = 'CHANGE_QUANTITY';\nexport const CALCULATE_CART = 'CALCULATE_CART';\nexport const APPLY_DISCOUNT = 'APPLY_DISCOUNT';\nexport const REFRESH_CART = 'REFRESH_CART';\nexport const COUNT_SHIPPING = 'COUNT_SHIPPING';\n\nconst apiUrl = 'videodreams.herokuapp.com/orders';\n\n\nexport function addToCart(id, price) {\n    return {\n        type: ADD_TO_CART,\n        id,\n        price\n    }\n}\n\nexport function removeFromCart(id) {\n    return {\n        type: REMOVE_FROM_CART,\n        id\n    }\n}\n\nexport function changeQuantity(id, quantity) {\n    return {\n        type: CHANGE_QUANTITY,\n        id,\n        quantity,\n    }\n}\n\nexport function calculateCart() {\n    return {\n        type: CALCULATE_CART,\n    }\n}\n\nexport function applyDiscount(productsInCart, discount, discountApplied) {\n    return {\n        type: APPLY_DISCOUNT,\n        productsInCart,\n        discount,\n        discountApplied\n    }\n}\n\nexport function countShipping(shippingPrice) {\n    return {\n        type: COUNT_SHIPPING,\n        shippingPrice\n    }\n}\n\nexport function sendOrder(order) {\n    return (dispatch) => {\n        return axios.post(`${apiUrl}/add`, order)\n            .then(() => {\n                    dispatch(refreshCart());\n                }\n            )\n            .catch(error => {\n                throw(error);\n            });\n    };\n}\n\nexport function refreshCart() {\n    return {\n        type: REFRESH_CART\n    }\n}","import { find, uniqBy, reject, merge, forEach } from 'lodash';\n\nimport { ADD_TO_CART, REMOVE_FROM_CART, CHANGE_QUANTITY, CALCULATE_CART, APPLY_DISCOUNT, REFRESH_CART, COUNT_SHIPPING } from './Cart.actions';\n\nconst initialState = {\n    productsInCart: [], \n    valueInCart: 0,\n    discount: false,\n    discountApplied: false,\n    shippingPrice: 14\n};\n\nexport default function cart(state = initialState, action) {\n    switch (action.type) {\n        case ADD_TO_CART: {\n            const addedProduct = { 'id': action.id, 'price': (state.discount) ? (action.price * state.discount) : action.price };\n            const existedProduct = find(state.productsInCart, { 'id': action.id });\n            (existedProduct) ? (\n                addedProduct.quantity = ++existedProduct.quantity\n            ) : (\n                addedProduct.quantity = 1\n            );\n            const productsInCart = uniqBy([...state.productsInCart, addedProduct], 'id');\n            return { ...state, productsInCart };\n        }\n        case REMOVE_FROM_CART: {\n            const productsInCart = reject(state.productsInCart, { 'id': action.id });\n            return { ...state, productsInCart };\n        }\n        case CHANGE_QUANTITY: {\n            const changedProduct = merge(find(state.productsInCart, { 'id': action.id }), { 'quantity': Number(action.quantity) });\n            let productsInCart = uniqBy([...state.productsInCart, changedProduct], 'id');\n            if (changedProduct.quantity < 1) {\n                productsInCart = reject(state.productsInCart, { 'id': action.id });\n            }\n            return { ...state, productsInCart };\n        }\n        case CALCULATE_CART: {\n            let productsInCart = [...state.productsInCart];\n            let valueInCart = 0;\n            forEach(productsInCart, (product) => {\n                valueInCart += product.quantity * product.price;\n            });\n            return { ...state, valueInCart };\n        }\n        case APPLY_DISCOUNT: {\n            const productsInCart = action.productsInCart;\n            const discount = action.discount;\n            const discountApplied = action.discountApplied;\n            return { ...state, productsInCart, discount, discountApplied };\n        }\n        case COUNT_SHIPPING: {\n            const shippingPrice = action.shippingPrice;\n            return { ...state, shippingPrice };\n        }\n        case REFRESH_CART: {\n            const productsInCart = [];\n            const valueInCart = 0;\n            return { ...state, productsInCart, valueInCart };\n        }\n        default: {\n            return state;\n        }\n    }\n}","import { combineReducers } from 'redux';\n\nimport productList from './modules/ProductList/ProductList.reducer';\nimport cartReducer from './modules/Cart/Cart.reducer';\n\nexport default combineReducers({\n    productList,\n    cartReducer,\n});","import React from 'react';\nimport { createDevTools } from 'redux-devtools';\nimport LogMonitor from 'redux-devtools-log-monitor';\nimport DockMonitor from 'redux-devtools-dock-monitor';\n\nexport default createDevTools(\n  <DockMonitor toggleVisibilityKey='ctrl-h'\n               changePositionKey='ctrl-q'>\n    <LogMonitor />\n  </DockMonitor>\n);","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport throttle from 'lodash/throttle';\nimport reducers from './reducers';\nimport DevTools from './DevTools';\nimport { loadState, saveState } from './localStorage';\n\nconst persistedState = loadState();\n\nconst enhancers = [\n    applyMiddleware(thunk),\n    DevTools.instrument()\n]\n\nconst store = createStore(\n    reducers,\n    persistedState,\n    compose(...enhancers),\n);\n\nstore.subscribe(throttle(() => {\n    saveState(store.getState());\n}), 1000);\n\n\n\nexport default store;","export const loadState = () => {\n    try {\n        const serializedState = localStorage.getItem('state');\n        if (serializedState === null) {\n            return undefined;\n        }\n        return JSON.parse(serializedState);\n    } catch (err) {\n        return undefined;\n    }\n};\n\nexport const saveState = (state) => {\n    try {\n        const serializedState = JSON.stringify(state);\n        localStorage.setItem('state', serializedState);\n    } catch (err) {\n        // ignore\n    }\n}","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { setSearchQuery } from '../ProductList/ProductList.actions';\n\nclass SearchBar extends Component {\n\n    componentDidUpdate() {\n        if (this.props.searchQuery.query === '') {\n            this.searchQuery.value = '';\n        };\n    }\n\n    handleChange = (e) => {\n        const filterType = 'bySearchQuery';\n        this.props.setSearchQuery(e.target.value, filterType);\n    }\n\n    handleSearch = (e) => {\n        e.preventDefault();\n\t\tthis.props.history.push('/');\n    }\n\n\n    render() {\n        return (\n            <form onSubmit={(e) => this.handleSearch(e)}>\n                <input\n                    type=\"text\"\n                    className=\"HeaderNavSearchBar\"\n                    onChange={(e) => this.handleChange(e)}\n                    ref={value => this.searchQuery = value}\n                />\n            </form>\n        )\n    }\n}\n\nSearchBar.propTypes = {\n    setSearchQuery: PropTypes.func,\n    searchQuery: PropTypes.object\n}\n\nconst mapStateToProps = (state) => {\n    const { searchQuery } = state.productList;\n    return { searchQuery };\n};\n\nconst mapDispatchToProps = {\n    setSearchQuery\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SearchBar));","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './Header.scss';\nimport SearchBar from './SearchBar';\n\nconst Header = props => (\n    <div className=\"Header\">\n        <div className=\"HeaderWrapper d-flex justify-content-center justify-content-md-between flex-column flex-md-row\">\n            <div className=\"HeaderLogo\"><Link to=\"/\">Video Dreams</Link></div>\n            <nav className=\"HeaderNav d-flex justify-content-center align-items-center\">\n                <SearchBar />\n                <Link to=\"/myaccount\" className=\"HeaderNavIcon\" >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 24 24\"><path d=\"M20.822 18.096c-3.439-.794-6.641-1.49-5.09-4.418 4.719-8.912 1.251-13.678-3.732-13.678-5.082 0-8.465 4.949-3.732 13.678 1.598 2.945-1.725 3.641-5.09 4.418-2.979.688-3.178 2.143-3.178 4.663l.005 1.241h1.995c0-3.134-.125-3.55 1.838-4.003 2.851-.657 5.543-1.278 6.525-3.456.359-.795.592-2.103-.338-3.815-2.058-3.799-2.578-7.089-1.423-9.026 1.354-2.275 5.426-2.264 6.767-.034 1.15 1.911.639 5.219-1.403 9.076-.91 1.719-.671 3.023-.31 3.814.99 2.167 3.707 2.794 6.584 3.458 1.879.436 1.76.882 1.76 3.986h1.995l.005-1.241c0-2.52-.199-3.975-3.178-4.663z\"/></svg>\n                </Link>\n                <div\n                    className=\"HeaderNavIcon\"\n                    onClick={props.handleCartVisibility}\n                >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid meet\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M4.558 7l4.701-4.702c.199-.198.46-.298.721-.298.613 0 1.02.505 1.02 1.029 0 .25-.092.504-.299.711l-3.26 3.26h-2.883zm12.001 0h2.883l-4.701-4.702c-.199-.198-.46-.298-.721-.298-.613 0-1.02.505-1.02 1.029 0 .25.092.504.299.711l3.26 3.26zm3.703 4l-.016.041-3.598 8.959h-9.296l-3.597-8.961-.016-.039h16.523zm3.738-2h-24v2h.643c.534 0 1.021.304 1.256.784l4.101 10.216h12l4.102-10.214c.233-.481.722-.786 1.256-.786h.642v-2z\"/></svg>\n                    <span className=\"CartQuantity\">{props.productsInCart}</span>\n                </div>\n            </nav>\n        </div>\n    </div>\n)\n\nHeader.propTypes = {\n    handleCartVisibility: PropTypes.func,\n    productsInCart: PropTypes.number\n}\n\nexport default Header;","import React from 'react';\nimport { NavLink } from \"react-router-dom\";\nimport './Footer.scss';\n\nconst Footer = props => (\n    <div className=\"Footer\">\n        <div className=\"FooterWrapper\">\n            <div className=\"FooterText\">©2019 O_G</div>\n            <nav className=\"FooterNav\">\n                <NavLink className=\"FooterNavLink\" to=\"/\">Home</NavLink>\n                <NavLink className=\"FooterNavLink\" to=\"/faq\">Faq</NavLink>\n                <NavLink className=\"FooterNavLink\" to=\"/terms\">Terms & Conditions</NavLink>\n            </nav>\n        </div>\n    </div>\n)\n\nexport default Footer;","import React, {Component, Fragment} from 'react';\nimport PropTypes from 'prop-types';\n\nclass CartItem extends Component {\n\n    increaseQuantity = (id, qty) => {\n        const quantity = ++qty;\n        this.props.changeQuantity(id, quantity);\n    }\n\n    decreaseQuantity = (id, qty) => {\n        const quantity = --qty;\n        this.props.changeQuantity(id, quantity);\n    }\n    \n    render() {\n        const { title, cover, id } = this.props.item;\n        const { removeFromCart, quantity, price, discount } = this.props;\n        const prevPrice = this.props.item.price;\n        return (\n            <div className=\"CartContentItem d-flex align-items-center\">\n                <img \n                    className=\"CartContentItemCoverImg\" \n                    src={process.env.PUBLIC_URL + `/images/${cover}`} \n                    alt={title} \n                />\n                <div className=\"CartContentInfoWrapper d-flex flex-column\">\n                    <div className=\"CartContentItemTitle d-flex justify-content-between\">\n                        <p className=\"CartContentItemTitleTxt\">{title}</p>\n                        <button className=\"CartContentItemTitleRemoveBtn\" onClick={() => removeFromCart(id)}>\n                            <img className=\"CartContentItemTitleRemoveBtnImg\" src=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xMiAxMS4yOTNsMTAuMjkzLTEwLjI5My43MDcuNzA3LTEwLjI5MyAxMC4yOTMgMTAuMjkzIDEwLjI5My0uNzA3LjcwNy0xMC4yOTMtMTAuMjkzLTEwLjI5MyAxMC4yOTMtLjcwNy0uNzA3IDEwLjI5My0xMC4yOTMtMTAuMjkzLTEwLjI5My43MDctLjcwNyAxMC4yOTMgMTAuMjkzeiIvPjwvc3ZnPg==\" alt=\"remove\" />\n                        </button>\n                    </div>\n                    <div className=\"d-flex justify-content-between\">\n                        <div className=\"CartContentItemQuantity\">\n                            <input\n                                className=\"CartContentItemQuantityBtn\"\n                                type=\"button\"\n                                value=\"-\"\n                                onClick={() => this.decreaseQuantity(id, quantity)}\n                            />\n                            <input\n                                className=\"CartContentItemQuantityInput\"\n                                type=\"number\"\n                                value={quantity}\n                                onChange={(e) => this.props.changeQuantity(id, e.target.value)}\n                            />\n                            <input\n                                className=\"CartContentItemQuantityBtn\"\n                                type=\"button\"\n                                value=\"+\"\n                                onClick={() => this.increaseQuantity(id, quantity)}\n                            />\n                        </div>\n                        <p className=\"CartContentItemPrice\">\n                        {(discount) ? (\n                            <Fragment>\n                                <span className=\"PrevPrice\">$ {prevPrice}</span>\n                                $ {price.toFixed(2)}\n                            </Fragment>\n                        ) : (\n                            `$ ${price.toFixed(2)}`\n                        )}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        )   \n    }\n}\n\nCartItem.propTypes = {\n    item: PropTypes.object.isRequired,\n    quantity: PropTypes.number,\n    price: PropTypes.number,\n    discount: PropTypes.any,\n    removeFromCart: PropTypes.func,\n    changeQuantity: PropTypes.func\n}\n\nexport default CartItem;","import React, { Component, Fragment } from 'react';\nimport { forEach, isEmpty } from 'lodash';\nimport PropTypes from 'prop-types';\n\nclass DiscountInput extends Component {\n\n    applyDiscount = (productsInCart, discount) => {\n        if (discount !== undefined) {\n            forEach(productsInCart, (product) => {\n                product.price = product.price * discount;\n            });\n        } else {\n            discount = false;\n        }\n        const discountApplied = true;\n        this.props.applyDiscount(productsInCart, discount, discountApplied);\n    }\n    \n    onSubmitDiscount = (e) => {\n        e.preventDefault();\n        if (isEmpty(this.discountCode.value)) { return };\n        const { productsInCart } = this.props;\n        const discountCode = this.discountCode.value.trim().toUpperCase();\n        let discount;\n        let shippingPrice;\n        switch(discountCode) {\n            case \"FREESHIP\":\n                shippingPrice = 0;\n                this.props.countShip(shippingPrice);\n                this.applyDiscount(productsInCart, discount);\n                break;\n            case \"20PER\":\n                discount = .8;\n                this.applyDiscount(productsInCart, discount);\n                break;\n            case \"BAGUVIX\":\n                discount = .01;\n                shippingPrice = 0;\n                this.props.countShip(shippingPrice);\n                this.applyDiscount(productsInCart, discount);\n                break;\n            default:\n                this.discountCode.parentNode.classList.add('wrongCode');\n                this.discountCode.setAttribute('placeholder', 'Sorry! Code is wrong.');\n        }\n        this.discountCode.value = '';\n    }\n    \n    onCancelDiscount = () => {\n        let productsInCart = this.props.productsInCart;\n        const discount = false;\n        const discountApplied = false;\n        const shippingPrice = 14;\n        if (this.props.discount) {\n            forEach(productsInCart, (product) => {\n                product.price = product.price / this.props.discount;\n            });\n        }\n        this.props.applyDiscount(productsInCart, discount, discountApplied);\n        this.props.countShip(shippingPrice);\n    }\n\n    render() {\n        return (\n            <div className=\"CartCheckoutDiscount d-flex justify-content-end align-items-center\">  \n                {(this.props.discountApplied) ? (\n                    <div className=\"CartCheckoutDiscountApplied d-flex align-items-center\">\n                        <p className=\"CartCheckoutDiscountAppliedText\">Your discount is applied!</p>\n                        <button \n                            type=\"text\"\n                            className=\"CartCheckoutDiscountAppliedCancel\" \n                            onClick={() => this.onCancelDiscount()}\n                        >\n                            Cancel it\n                        </button>\n                    </div>\n                ) : (\n                    <Fragment>\n                        <form \n                            onSubmit={(e) => this.onSubmitDiscount(e)}\n                            className=\"CartCheckoutDiscountForm\"   \n                        >\n                            <input\n                                className=\"CartCheckoutDiscountFormInput\"\n                                placeholder=\"Got coupon?\"\n                                type=\"text\"\n                                ref={value => this.discountCode = value}\n                            />\n                            <button\n                                className=\"CartCheckoutDiscountFormSubmit\"\n                            >\n                            >\n                            </button>\n                        </form>\n                    </Fragment>\n                )}\n            </div>\n        );\n    }\n}\n\nDiscountInput.propTypes = {\n    productsInCart: PropTypes.arrayOf(PropTypes.object),\n    applyDiscount: PropTypes.func,\n    countShip: PropTypes.func,\n    discount: PropTypes.any,\n    checkoutComplete: PropTypes.bool,\n    discountApplied: PropTypes.bool\n}\n\nexport default DiscountInput;\n","import React from 'react';\nimport { find } from 'lodash';\nimport PropTypes from 'prop-types';\n\nconst CartSummary = (props) => {\n    \n    return (\n        <table className=\"CartContentSummaryTable table-bordered table-striped\">\n            <thead>\n                <tr>\n                    <th scope=\"col\">title</th>\n                    <th scope=\"col\">qty</th>\n                    <th scope=\"col\">price</th>\n                </tr>\n            </thead>\n            <tbody>\n                {props.productsInCart.map(product =>\n                    <tr\n                        key={product.id}\n                        className=\"CartContentSummaryTableRow\"\n                    >\n                        <td className=\"CartContentSummaryTableTitle\">\n                            {find(props.products, { 'id': product.id }).title}\n                        </td>\n                        <td className=\"CartContentSummaryTableQuantity\">\n                            {product.quantity}\n                        </td>\n                        <td className=\"CartContentSummaryTablePrice\">\n                            $ {product.price.toFixed(2)}\n                        </td>\n                    </tr>\n                )}\n                <tr\n                    className=\"CartContentSummaryTableRow\"\n                >\n                    <td className=\"CartContentSummaryTableTitle\">\n                        Shipping price:\n                    </td>\n                    <td className=\"CartContentSummaryTableQuantity\">\n                    </td>\n                    <td className=\"CartContentSummaryTablePrice\">\n                        $ {props.shippingPrice.toFixed(2)}\n                    </td>\n                </tr>\n                <tr\n                    className=\"CartContentSummaryTableRow\"\n                >\n                    <td className=\"CartContentSummaryTableTitle\">\n                        Subtotal price:\n                    </td>\n                    <td className=\"CartContentSummaryTableQuantity\">\n                    </td>\n                    <td className=\"CartContentSummaryTablePrice\">\n                        $ {(props.valueInCart + props.shippingPrice).toFixed(2)}\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    )   \n}\n\nCartSummary.propTypes = {\n    productsInCart: PropTypes.arrayOf(PropTypes.object).isRequired,\n    shippingPrice: PropTypes.number,\n    valueInCart: PropTypes.number,\n    products: PropTypes.arrayOf(PropTypes.object).isRequired\n}\n\nexport default CartSummary;","import React, { Component, Fragment } from 'react';\nimport { find, isEmpty } from 'lodash';\nimport { Link } from 'react-router-dom';\nimport uuid from 'uuid';\nimport moment from 'moment';\nimport { CSSTransitionGroup } from 'react-transition-group';\n\nimport CartItem from './CartItem';\nimport DiscountInput from './DiscountInput';\nimport CartSummary from './CartSummary';\nimport './Cart.styles.scss';\n\nclass Cart extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n            checkout: false,\n            checkoutComplete: false,\n            productsAppearance: false\n        })\n    }\n\n    componentDidMount() {\n        this.props.calculateCart();\n    }\n\n    componentDidUpdate(prevProps) {\n        this.props.calculateCart();\n        if (prevProps.cartIn !== this.props.cartIn) {\n            this.setState({ checkout: false, checkoutComplete: false, productsAppearance: true });\n        }\n    }\n\n    recountShip = (shippingPrice) => {\n        this.props.countShipping(shippingPrice);\n    }\n\n    changeQuantity = (id, qty) => {\n        this.setState({ productsAppearance: false })\n        this.props.changeQuantity(id, qty);\n    }\n\n    removeFromCart = (id) => {\n        if(this.state.productsAppearance) {\n            this.setState({ productsAppearance: false })\n        };\n        this.props.removeFromCart(id);\n    }\n\n    handleCheckout = () => {\n        const { checkout, checkoutComplete } = this.state;\n        if (checkoutComplete) {\n            this.setState({ checkoutComplete: !checkoutComplete })\n        }\n        this.setState({ checkout: !checkout, productsAppearance: true });\n    }\n\n    handleOrderConfirmation = () => {\n        const order = {\n            date: moment().format('MMMM Do YYYY, H:mm:ss'),\n            ordered: this.props.productsInCart,\n            totalValue: this.props.valueInCart,\n            shippingPrice: this.props.shippingPrice\n        };\n        this.props.sendOrder(order);\n        const discount = false;\n        const discountApplied = false;\n        this.props.applyDiscount([], discount, discountApplied);\n        const shippingPrice = 14;\n        this.recountShip(shippingPrice);\n        this.setState({ checkoutComplete: true });\n    }\n\n    renderOrderSummary = () => {\n        return (\n            <div key={uuid.v4()} className=\"CartContentSummary d-flex flex-column\">\n                <h5 className=\"CartContentSummaryInfoHeader\">You're almost there!</h5>\n                <p className=\"CartContentSummaryInfoText\">Please take a look on summary of your current order. If it's all you need at the moment - just confirm it and we will take good care of it. We hope you're familiar with our Terms & Conditions, because, along with your order, you accept our rules. Remember that <span>you can manage all your previous orders through your personal account</span> - just click in top right corner on main screen and log in!</p>\n                <CartSummary\n                    productsInCart={this.props.productsInCart}\n                    shippingPrice={this.props.shippingPrice}\n                    valueInCart={this.props.valueInCart}\n                    products={this.props.products}\n                />\n            </div>\n        )\n    }\n\n    renderProductsInCart = () => {\n        const cartItems = this.props.productsInCart.map(item =>\n            <CartItem\n                key={item.id}\n                item={find(this.props.products, { 'id': item.id })} \n                quantity={item.quantity}\n                price={item.price}\n                discount={this.props.discount}\n                removeFromCart={(id) => this.removeFromCart(id)}\n                changeQuantity={(id, qty) => this.changeQuantity(id, qty)}\n            />   \n        );\n       \n        return (\n            <div key={uuid.v4()} className=\"CartContentItems d-flex flex-column\">\n                <CSSTransitionGroup\n                    transitionName=\"productsAppear\"\n                    transitionAppear={this.state.productsAppearance ? true : false}\n                    transitionAppearTimeout={500}\n                    transitionEnter={false}\n                    transitionLeave={false}\n                >\n                    {cartItems}\n                </CSSTransitionGroup>\n            </div>\n        ) \n    }\n\n\n    render() {\n        return (\n            <div className={`Cart d-flex ${(this.props.cartIn) && `CartVisible`}`}>\n                <div className=\"CartWrapper d-flex flex-column justify-content-between\">\n                    <div className=\"CartHeader d-flex justify-content-between\">\n                        <h1 className=\"CartHeaderText\">{(!this.state.checkout) ? \"Cart\" : \"Summary\"}</h1>\n                        <div>\n                            {(this.state.checkout) && (\n                                <button \n                                    className=\"CartHeaderBtn\"\n                                    onClick={() => this.handleCheckout()}\n                                >\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M18.885 3.515c-4.617-4.618-12.056-4.676-16.756-.195l-2.129-2.258v7.938h7.484l-2.066-2.191c2.82-2.706 7.297-2.676 10.073.1 4.341 4.341 1.737 12.291-5.491 12.291v4.8c3.708 0 6.614-1.244 8.885-3.515 4.686-4.686 4.686-12.284 0-16.97z\"/></svg>\n                                </button>\n                            )}\n                            <button \n                                className=\"CartHeaderBtn\"\n                                onClick={() => this.props.handleCartVisibility()}\n                            >\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z\"/></svg>\n                            </button>\n                        </div>\n                    </div>  \n                    <div className=\"CartContent d-flex flex-column\">\n                        {!isEmpty(this.props.productsInCart) ? (\n                                (!this.state.checkout) ? (\n                                    this.renderProductsInCart()\n                                ) : (\n                                    this.renderOrderSummary()\n                                )\n                        ) : (\n                            <Fragment>\n                                {(!this.state.checkoutComplete) ? (\n                                    <h2 className=\"CartContentEmpty\">\n                                        Cart is empty.\n                                    </h2>\n                                ) : (\n                                    <Fragment>\n                                        <h2 className=\"CartContentEmpty\">\n                                            Thank you!\n                                        </h2>\n                                        <Link to=\"/myaccount\"\n                                            onClick={() => this.props.handleCartVisibility()} \n                                            className=\"CartContentEmptyBtn\"\n                                        >\n                                            &lt;  Back to my account\n                                        </Link>\n                                    </Fragment>\n                                )}\n                            </Fragment>\n                        )}\n                    </div>\n                    {(!this.state.checkoutComplete) ? (\n                        (!this.state.checkout) ? (\n                        <div className=\"CartCheckout d-flex flex-column\">\n                            <h5 className=\"CartCheckoutTotalPrice\">total: <span className=\"Amount\">$ {this.props.valueInCart.toFixed(2)}</span></h5>\n                            <h6 className=\"CartCheckoutShippingInfo\">{(this.props.shippingPrice > 0) ? `+ $ ${this.props.shippingPrice.toFixed(2)} for Express Shipping` : \"FREE SHIPPING INCLUDED!\"}</h6>\n                            <DiscountInput\n                                applyDiscount={this.props.applyDiscount}\n                                countShip={(val) => this.recountShip(val)}\n                                productsInCart={this.props.productsInCart}\n                                discount={this.props.discount}\n                                checkoutComplete={this.state.checkoutComplete}\n                                discountApplied={this.props.discountApplied}\n                            />\n                            <button \n                                className=\"CartCheckoutBtn\"\n                                disabled={(isEmpty(this.props.productsInCart)) ? true : false}\n                                onClick={() => this.handleCheckout()}\n                            >\n                            Check out\n                            </button>\n                        </div>\n                    ) : (\n                        <div className=\"CartCheckout CartCheckoutConfirmation d-flex flex-column justify-content-between\">\n                            <h6 className=\"CartCheckoutShippingTime\">Confirm your order now to enjoy movies you picked before <span>{`${moment().add(2, 'd').format('dddd, MMMM Do')}`}!</span></h6>\n                            <button \n                                className=\"CartCheckoutBtn\"\n                                onClick={() => this.handleOrderConfirmation()}\n                            >\n                            Confirm order\n                            </button>\n                        </div>\n                    )) : (\n                        <div></div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Cart;","import { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { removeFromCart, changeQuantity, calculateCart, applyDiscount, sendOrder, countShipping } from './Cart.actions';\nimport Cart from './Cart';\n\n\nconst mapStateToProps = (state) => {\n    const { products } = state.productList;\n    const { productsInCart, valueInCart, discount, discountApplied, shippingPrice } = state.cartReducer;\n\n    return {\n        products,\n        productsInCart,\n        valueInCart,\n        discount,\n        discountApplied,\n        shippingPrice\n    }\n};\n\nconst mapDispatchToProps = {\n    removeFromCart,\n    changeQuantity,\n    calculateCart,\n    applyDiscount,\n    sendOrder,\n    countShipping\n};\n\nCart.propTypes = {\n    products: PropTypes.arrayOf(PropTypes.object).isRequired,\n    productsInCart: PropTypes.arrayOf(PropTypes.object),\n    valueInCart: PropTypes.number,\n    discount: PropTypes.any,\n    discountApplied: PropTypes.bool,\n    shippingPrice: PropTypes.number,\n    removeFromCart: PropTypes.func,\n    changeQuantity: PropTypes.func,\n    calculateCart: PropTypes.func,\n    applyDiscount: PropTypes.func,\n    sendOrder: PropTypes.func,\n    countShipping: PropTypes.func\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","import React, { Component } from 'react';\nimport { forEach } from 'lodash';\nimport PropTypes from 'prop-types';\nimport Header from '../modules/Header/Header';\nimport Footer from '../modules/Footer/Footer';\nimport Cart from './Cart/Cart.container';\nimport './MainLayout.scss';\nimport { connect } from 'react-redux';\nimport { CSSTransitionGroup } from 'react-transition-group';\n\n\nclass MainLayout extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n            cartIn : false\n        })\n    }\n\n    onCartInOrOut = () => {\n        const { cartIn } = this.state;\n        this.setState({ cartIn: !cartIn })\n    }\n\n    getProductsInCart() {\n        let numberInCart = 0;\n        forEach(this.props.productsInCart, (product) => {\n            numberInCart += product.quantity;\n        });\n        return numberInCart;\n    }\n\n    render() {\n        return(\n            <div className=\"MainLayoutWrapper\">\n                <CSSTransitionGroup\n                    transitionName=\"cartBackground\"\n                    transitionEnterTimeout={300}\n                    transitionLeaveTimeout={300}>\n                    {(this.state.cartIn) && <div className=\"MainLayoutModalBackground\" onClick={() => this.onCartInOrOut()} />}\n                </CSSTransitionGroup>\n                <Header \n                    productsInCart={this.getProductsInCart()} \n                    handleCartVisibility={() => this.onCartInOrOut()}\n                />\n                <Cart \n                    handleCartVisibility={() => this.onCartInOrOut()}\n                    cartIn={this.state.cartIn}\n                />\n                {this.props.children}\n                <Footer />\n            </div>\n        )\n    }\n}\n\nMainLayout.propTypes = {\n    children: PropTypes.element.isRequired,\n    productsInCart: PropTypes.array\n}\n\nconst mapStateToProps = (state) => {\n    const { productsInCart } = state.cartReducer;\n\n    return {\n        productsInCart\n    }\n};\n\nexport default connect(mapStateToProps)(MainLayout);","import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport './ProductThumbnail.styles.scss';\n\nconst ProductThumbnail = (props) => {\n    const { discount } = props;\n    const { title, cover, id, price } = props.product;\n\n    return(\n        <div className=\"ProductThumbnail col-12 col-md-6 d-flex flex-column align-items-center align-items-md-end\" >\n            <Link className=\"ProductThumbnailLink\" to={\"products/\" + id}>\n                <div className=\"ProductThumbnailCover d-flex justify-content-center align-items-center\">\n                    <img \n                        className=\"ProductThumbnailCoverImgFirst\" \n                        src={process.env.PUBLIC_URL + `/images/${cover}`} \n                        alt={title} \n                    />\n                    <img \n                        className=\"ProductThumbnailCoverImgSecond\" \n                        src={process.env.PUBLIC_URL + `/images/vhs.png`} \n                        alt={title} \n                    />\n                </div>\n                <div className=\"ProductThumbnailDescription\">\n                    <p className=\"ProductThumbnailDescriptionTitle\">{title}</p>\n                    <p className=\"ProductThumbnailDescriptionPrice\">\n                        {(discount) ? (\n                            <Fragment>\n                                <span className=\"PrevPrice\">$ {price}</span>\n                                $ {(price * discount).toFixed(2)}\n                            </Fragment>\n                        ) : (\n                            `$ ${price}`\n                        )}\n                    </p>\n                </div>\n            </Link>\n        </div>\n    )\n}\n\nProductThumbnail.propTypes = {\n    product: PropTypes.shape({\n        title: PropTypes.string.isRequired,\n        cover: PropTypes.string.isRequired,\n        id: PropTypes.string.isRequired,\n        price: PropTypes.number.isRequired\n    }),\n    discount: PropTypes.any\n}\n\nexport default ProductThumbnail;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ProductFilter.styles.scss';\n\n\nconst Checkbox = ({ label, isSelected, onFilterChange, numberOfType }) => (\n    <div>\n        <input\n            className=\"ProductFilterCheckListInput\"\n            type=\"checkbox\" \n            id={label}\n            name={label}\n            checked={isSelected}\n            onChange={onFilterChange}\n        />\n        <label htmlFor={label} className=\"ProductFilterCheckListInputLabel\">\n            {label} ({numberOfType})\n        </label>\n    </div>\n);\n\nCheckbox.propTypes = {\n    label: PropTypes.string.isRequired,\n    numberOfType: PropTypes.number.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    onFilterChange: PropTypes.func\n}\n\nexport default Checkbox;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { sumBy, keys } from 'lodash';\nimport './ProductFilter.styles.scss';\nimport Checkbox from './Checkbox';\n\nconst ChecklistFilter = ({ checklist, handleChecklistChanges, products, filterType, checklistType, crit }) => (\n    keys(checklist).map(option => {\n        return(\n            <Checkbox\n                label={option}\n                key={option}\n                numberOfType={sumBy(products, (product) => product[crit] === option)}\n                isSelected={checklist[option]}\n                onFilterChange={(e) => handleChecklistChanges(e, checklistType, filterType)}\n            />\n        );\n    })\n);\n\nChecklistFilter.propTypes = {\n    crit: PropTypes.string.isRequired,\n    filterType: PropTypes.string.isRequired,\n    checklistType: PropTypes.string.isRequired,\n    products: PropTypes.arrayOf(PropTypes.object),\n    checklist: PropTypes.object,\n    handleChecklistChanges: PropTypes.func\n}\n\nexport default ChecklistFilter;\n","import React, { Component } from 'react';\nimport Slider from 'rc-slider';\nimport PropTypes from 'prop-types';\nimport { minBy, maxBy } from 'lodash';\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\nclass RangeSlider extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            min: 0,\n            max: 0,\n            value: [],\n            reset: false\n        };\n    }\n\n    componentDidMount() {\n        this.getMinMaxProductValues();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.reset !== this.state.reset) {\n            this.getMinMaxProductValues();\n            this.handleSliderReset();\n            this.setState({ reset: false });\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.reset !== prevState.reset) {\n            return { reset: true }\n        } else {\n            return null;\n        }\n    }\n\n    getMinMaxProductValues = () => {\n        const { products, crit } = this.props;\n        const minVal = minBy(products, (p) => p[crit]);\n        const maxVal = maxBy(products, (p) => p[crit]);\n        this.setState({\n            value: [minVal[crit], maxVal[crit]],\n            min: Math.floor(minVal[crit]),\n            max: Math.ceil(maxVal[crit])\n        });\n    }\n\n    onSliderChange = (value) => {\n        const { handleRange, rangeType, filterType } = this.props;\n        handleRange(value, rangeType, filterType);\n        this.setState({ value });\n    }\n\n    handleSliderReset = () => {\n        const { handleRangeReset, rangeType, filterType } = this.props;\n        handleRangeReset(this.state.value, rangeType, filterType);\n    }\n\n    render() {\n        const { min, max, value } = this.state;\n        const { crit } = this.props;\n        const marks = {\n            [min]: `${(crit === 'price') ? '$' : ''}${min}`,\n            [max]: `${(crit === 'price') ? '$' : ''}${max}`\n        }\n        return(\n            <div className=\"ProductFilterRange\">\n                <Range\n                    allowCross={false} \n                    defaultValue={[0, 200]}\n                    value={value}\n                    min={min}\n                    max={max}\n                    onChange={this.onSliderChange}\n                    tipFormatter={value => `${(crit === 'price') ? '$' : ''}${value}`}\n                    marks={marks}\n                    trackStyle={[{ backgroundColor: \"#ff735f\", height: \"4px\" }]}\n                    handleStyle={{ backgroundColor: \"#ff735f\", border: \"2px solid #ff735f\"}}\n                    railStyle={{ height: \"4px\" }}\n                />\n            </div>\n        )\n    }\n}\n\nRangeSlider.propTypes = {\n    crit: PropTypes.string.isRequired,\n    rangeType: PropTypes.string.isRequired,\n    filterType: PropTypes.string.isRequired,\n    products: PropTypes.arrayOf(PropTypes.object),\n    reset: PropTypes.bool,\n    handleRange: PropTypes.func,\n    handleRangeReset: PropTypes.func\n}\n\nexport default RangeSlider;","import React, { Component } from 'react';\nimport { forEach, uniq, mapValues, pickBy, keys, debounce } from 'lodash';\nimport PropTypes from 'prop-types';\nimport './ProductFilter.styles.scss';\nimport ChecklistFilter from './ChecklistFilter';\nimport RangeSlider from './RangeSlider';\n\n\nclass ProductFilter extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showMore: false,\n            resetPriceRange: false,\n            resetReleaseYearRange: false,\n            genreFilter: this.getChecklist('genre').reduce(\n                (options, option) => ({\n                    ...options,\n                    [option]: false\n                }),\n                {}\n            ),\n            badgeFilter: this.getChecklist('badge').reduce(\n                (options, option) => ({\n                    ...options,\n                    [option]: false\n                }),\n                {}\n            )\n        }\n    }\n\n    componentDidUpdate() {\n       if (this.state.resetPriceRange) {\n           this.setState({ resetPriceRange: false })\n       }\n       if (this.state.resetReleaseYearRange) {\n           this.setState({ resetReleaseYearRange: false })\n       }\n    }\n\n    getChecklist = (crit) => {\n        const { products } = this.props;\n        let checklistOptions = [];\n        forEach(products, (product) =>\n            checklistOptions.push(product[crit])\n        )\n        return uniq(checklistOptions);\n    }\n\n    async handleChecklistFilterChanges(e, checklistType, filterType) {\n        await this.handleChecklistChange(e, checklistType);\n        await this.handleFilterSettings(filterType, checklistType);\n    }\n\n    handleChecklistChange = (e, checklistType) => {\n        const { name } = e.target;\n        this.setState(prevState => ({\n            [checklistType]: {\n                ...prevState[checklistType],\n                [name]: !prevState[checklistType][name]\n            }\n        }));\n    };\n\n    handleFilterSettings = (filterType, checklistType) => {\n        const checklist = this.state[checklistType];\n        const activeFilter = keys(pickBy(checklist));\n        this.props.handleChecklist(activeFilter, filterType);\n    }\n\n    handleRangeFilter = debounce((range, rangeType, filterType) => {\n        this.props.handleRange(range, rangeType, filterType);\n    }, 200)\n\n    handleRangeReset = (range, rangeType, filterType) => {\n        this.props.handleRange(range, rangeType, filterType);\n    }\n\n    handleResetSettings = () => {\n        const genreFilter = mapValues(this.state.genreFilter, () => false);\n        const badgeFilter = mapValues(this.state.badgeFilter, () => false);\n        this.props.handleReset();\n        this.setState({\n            genreFilter,\n            badgeFilter,\n            resetPriceRange: true,\n            resetReleaseYearRange: true\n        });\n    }\n\n    handleShowMore = () => {\n        this.setState({ showMore: true })\n    }\n\n    render() {\n        const { products, rangeFilteredProducts } = this.props;\n        const { genreFilter, badgeFilter, resetPriceRange, resetReleaseYearRange, showMore } = this.state;\n        return (\n            <div className=\"ProductFilter d-flex flex-column col-12 col-md-3\">\n            <p className=\"ProductFilterSubheader\"> Genre </p>\n            <div className=\"ProductFilterCheckList d-flex flex-column\">\n                <ChecklistFilter\n                    crit={'genre'}\n                    filterType={'byGenre'}\n                    checklistType={'genreFilter'}\n                    products={rangeFilteredProducts}\n                    checklist={genreFilter}\n                    handleChecklistChanges={(e, checklistType, filterType) => this.handleChecklistFilterChanges(e, checklistType, filterType)}\n                />\n            </div>\n                <p className=\"ProductFilterSubheader\"> Price Range </p>\n                <RangeSlider\n                    crit={'price'}\n                    rangeType={'priceRange'}\n                    filterType={'byPriceRange'}\n                    products={products}\n                    reset={resetPriceRange}\n                    handleRange={(range, rangeType, filterType) => this.handleRangeFilter(range, rangeType, filterType)}\n                    handleRangeReset={(range, rangeType, filterType) => this.handleRangeReset(range, rangeType, filterType)}\n                />\n                <div className={`ProductFilterShowMore ${(showMore) ? \"ProductFilterShowMoreActive\" : \"\"}`}>\n                    <p className=\"ProductFilterSubheader\"> Badge </p>\n                    <div className=\"ProductFilterCheckList d-flex flex-column\">\n                        <ChecklistFilter\n                            crit={'badge'}\n                            filterType={'byBadge'}\n                            checklistType={'badgeFilter'}\n                            products={rangeFilteredProducts}\n                            checklist={badgeFilter}\n                            handleChecklistChanges={(e, checklistType, filterType) => this.handleChecklistFilterChanges(e, checklistType, filterType)}\n                        />\n                    </div>\n                    <p className=\"ProductFilterSubheader\"> Year of Release </p>\n                    <RangeSlider\n                        crit={'year'}\n                        rangeType={'releaseYearRange'}\n                        filterType={'byReleaseYear'}\n                        products={products}\n                        reset={resetReleaseYearRange}\n                        handleRange={(range, rangeType, filterType) => this.handleRangeFilter(range, rangeType, filterType)}\n                        handleRangeReset={(range, rangeType, filterType) => this.handleRangeReset(range, rangeType, filterType)}\n                    />\n                </div>\n                {\n                    (!showMore) && \n                    <input\n                        className=\"ProductFilterButton\"\n                        type=\"button\"\n                        onClick={() => this.handleShowMore()}\n                        value=\"Show more\"\n                    />\n                }\n                <input\n                    className=\"ProductFilterButton\"\n                    type=\"button\"\n                    onClick={() => this.handleResetSettings()}\n                    value=\"Reset filter\"\n                />\n            </div>\n        );\n    }\n}; \n\nProductFilter.propTypes = {\n    products: PropTypes.arrayOf(PropTypes.object),\n    rangeFilteredProducts: PropTypes.arrayOf(PropTypes.object),\n    handleRange: PropTypes.func,\n    handleChecklist: PropTypes.func,\n    handleReset: PropTypes.func\n}\n\nexport default ProductFilter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './PagePagination.styles.scss';\n\n\nclass PagePagination extends Component {\n\n    changeProductPage = (currentPage) => {\n        this.props.handleTurningPage(currentPage);\n    }\n\n    increaseProductPage = () => {\n        const { pageNumber, handleTurningPage, currentPage: prevPage } = this.props;\n        const currentPage = (prevPage === pageNumber) ? 1 : (prevPage + 1);\n        handleTurningPage(currentPage);\n    }\n\n    decreaseProductPage = () => {\n        const { pageNumber, handleTurningPage, currentPage: prevPage } = this.props;\n        const currentPage = (prevPage === 1) ? pageNumber : (prevPage - 1);\n        handleTurningPage(currentPage);\n    }\n\n    renderPageNumbers = () => {\n        const { pageNumber, currentPage } = this.props;\n        const pageNumbers = [];\n        for (let i = 1; i <= pageNumber; i++) {\n            pageNumbers.push(i);\n        };\n\n        return(\n            pageNumbers.map(num => {\n                return (\n                    <li\n                        className={`PageNumbersNum ${(num === currentPage) ? 'active' : ''}`}\n                        key={num}\n                        id={num}\n                        onClick={() => this.changeProductPage(num)}\n                    >\n                        0{num}\n                    </li>\n                );\n            })\n        );\n    }\n\n    render() {\n        return (\n            (this.props.noMatch) ? (\n                <div></div>\n            ) : (\n                <div className='PageNumbers d-flex justify-content-center align-items-center'>\n                    <input\n                        type='button'\n                        className='PageNumbersBtn'\n                        onClick={() => this.decreaseProductPage()} \n                        value='<' \n                    />\n                    {this.renderPageNumbers()}\n                    <input \n                        type='button'\n                        className='PageNumbersBtn'\n                        onClick={() => this.increaseProductPage()} \n                        value='>' \n                    />\n                </div>\n            )\n        );\n    }\n};\n\nPagePagination.propTypes = {\n    noMatch: PropTypes.bool,\n    pageNumber: PropTypes.number,\n    currentPage: PropTypes.number,\n    handleTurningPage: PropTypes.func\n}\n\nexport default PagePagination;\n","const sortingConfig = {\n    byPopularity: {\n        key: 'default',\n        order: 'custom'\n    },\n    priceAsc: {\n        key: 'price',\n        order: 'asc'\n    },\n    priceDesc: {\n        key: 'price',\n        order: 'desc'\n    },\n    titleAsc: {\n        key: 'title',\n        order: 'asc'\n    },\n    titleDesc: {\n        key: 'title',\n        order: 'desc'\n    }\n}\n\nexport default sortingConfig;","import React, { Component } from 'react';\nimport sortingConfig from './SortingSelectConfig';\nimport PropTypes from 'prop-types';\n\nclass SortingSelect extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: \"byPopularity\",\n            sortingWay: {\n                key: 'default',\n                order: 'custom'\n            },\n            sortingType: \"sortingBySelection\",\n            reset: false\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.reset !== this.state.reset) {\n            const defaultSettings = {\n                value: \"byPopularity\",\n                sortingWay: {\n                    key: 'default',\n                    order: 'custom'\n                }\n            };\n            this.setState({ reset: false, value: defaultSettings.value, sortingWay: defaultSettings.sortingWay }, () => {\n                const { key, order } = this.state.sortingWay;\n                this.props.handleSortingBySelection(key, order, this.state.sortingType);\n            });\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.reset !== prevState.reset) {\n            return { reset: true }\n        } else {\n            return null;\n        }\n    }\n\n    onSelect = (e) => {\n        this.setState({ value: e.target.value, sortingWay: sortingConfig[e.target.value] }, () => {\n            const { key, order } = this.state.sortingWay;\n            this.props.handleSortingBySelection(key, order, this.state.sortingType);\n        });\n    }\n    \n    render() {\n        return (\n            <div className=\"SortingSelect d-flex justify-content-end align-items-center\">\n                <p className=\"SortingSelectLabel\">Sort by:</p>\n                <select\n                    value={this.state.value}\n                    onChange={this.onSelect}\n                    className=\"SortingSelectOptions\"\n                >\n                    <option value=\"byPopularity\">Popularity</option>\n                    <option value=\"priceAsc\">Price: Low To High</option>\n                    <option value=\"priceDesc\">Price: High To Low</option>\n                    <option value=\"titleAsc\">Title: A To Z</option>\n                    <option value=\"titleDesc\">Title: Z To A</option>\n                </select>\n            </div>\n        )\n    }\n}\n\nSortingSelect.propTypes = {\n    handleSortingBySelection: PropTypes.func, \n    reset: PropTypes.bool\n}\n\nexport default SortingSelect;","import { includes, reject } from 'lodash';\n\nconst filterConfig = {\n    byGenre: (products, state) => reject(products, (product) => !includes(state.byGenre, product.genre)),\n    byBadge: (products, state) => reject(products, (product) => !includes(state.byBadge, product.badge)),\n    byPriceRange: (products, state) => reject(products, (product) => (\n        product.price < state.priceRange.min || product.price > state.priceRange.max\n    )),\n    byReleaseYear: (products, state) => reject(products, (product) => (\n        product.year < state.releaseYearRange.min || product.year > state.releaseYearRange.max\n    )),\n    bySearchQuery: (products, state) => reject(products, (product) => (\n        !includes(product.title.toLowerCase(), state.searchQuery.toLowerCase().trim())\n    ))\n}\n\nexport default filterConfig;","import { includes, reject, orderBy } from 'lodash';\n\nconst sortConfig = {\n    sortingBySelection: (products, productsByDefault, state) => (state.activeSortingFilter.key === 'default') ? (\n        reject(productsByDefault, (product) => !includes(products, product))\n    ) : (\n        orderBy(products, state.activeSortingFilter.key, state.activeSortingFilter.order)\n    )\n}\n\nexport default sortConfig;","import React, { Component, Fragment } from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport { filter, includes, isEmpty } from 'lodash';\nimport Spinner from 'react-spinkit';\nimport './ProductList.styles.scss';\nimport ProductThumbnail from '../ProductThumbnail/ProductThumbnail';\nimport ProductFilter from '../ProductsFilter/ProductFilter';\nimport PagePagination from '../PagePagination/PagePagination';\nimport SortingSelect from '../ProductsFilter/SortingSelect';\nimport filterConfig from '../ProductsFilter/ProductFilterConfig';\nimport sortConfig from './SortConfig';\n\n\nclass ProductList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentPage: 1,\n            productsPerPage: 6,\n            noMatch: false,\n            resetSortingSelect: false,\n            activeFilter: [],\n            activeSortingFilter: [],\n            filteredProducts: [],\n            searchQuery: '',\n            byGenre: [],\n            byBadge: [],\n            rangeFilteredProducts: [],\n            priceRange: {\n                min: 0,\n                max: 200\n            },\n            releaseYearRange: {\n                min: 0,\n                max: 2010\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.props.fetchProductList();\n\n        if (!isEmpty(this.props.searchQuery)) {\n            const { query, filterType } = this.props.searchQuery;\n            this.handleSearch(query, filterType);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        // moving to last visible page after filtering product list\n        const { currentPage } = this.state;\n        const pageNumber = this.handlePageNumeration();\n        if(currentPage > pageNumber) {\n            this.handleTurningPage(pageNumber);\n        };\n\n        if (this.state.resetSortingSelect) {\n            this.setState({ resetSortingSelect: false })\n        }\n\n        if (prevProps.searchQuery !== this.props.searchQuery) {\n            const { query, filterType } = this.props.searchQuery;\n            this.handleSearch(query, filterType);\n        }\n    }\n\n    handlePageNumeration = () => {\n        const { productsPerPage, filteredProducts } = this.state;\n        let products = (isEmpty(filteredProducts)) ? this.props.products : filteredProducts;\n        return Math.ceil(products.length / productsPerPage);\n    }\n\n    handleTurningPage = (currentPage) => {\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n        })\n        this.setState({ currentPage });\n    }\n\n    handleRangeFilter = (range, rangeType, filterType) => {\n        let { activeFilter } = this.state;\n        if (!includes(activeFilter, filterType)) {\n            activeFilter.push(filterType)\n        };\n        this.setState({ \n            [rangeType]: {\n                min: range[0], \n                max: range[1]\n            },\n            activeFilter\n        }, () => {\n            this.handleFilteringProducts();\n        });\n    }\n\n    handleChecklistFilter = (activeChecklistFilter, filterType) => {\n        let { activeFilter } = this.state;\n        if (!isEmpty(activeChecklistFilter) && !includes(activeFilter, filterType)) {\n            activeFilter.push(filterType)\n        } else if (isEmpty(activeChecklistFilter)) {\n            activeFilter = filter(activeFilter, (filter) => filter !== filterType)\n        }\n        this.setState({ [filterType]: activeChecklistFilter, activeFilter }, () => {\n            this.handleFilteringProducts();\n        });\n    }\n\n    handleSearch = (query, filterType) => {\n        const searchQuery = query;\n        let { activeFilter } = this.state;\n        if (!isEmpty(searchQuery) && !includes(activeFilter, filterType)) {\n            activeFilter.push(filterType)\n        } else if (isEmpty(searchQuery)) {\n            activeFilter = filter(activeFilter, (filter) => filter !== filterType)\n        }\n        this.setState({ activeFilter, searchQuery }, () => {\n            this.handleFilteringProducts();\n        });\n    }\n\n    handleFilteringProducts = () => {\n        const { activeFilter } = this.state;\n        const { products } = this.props;\n        let filteredProducts = products;\n        activeFilter.forEach((filter) => {\n            filteredProducts = filterConfig[filter](filteredProducts, this.state)\n        });\n        this.setState({\n            noMatch: (!isEmpty(filteredProducts)) ? false : true,\n            filteredProducts\n        }, () => {\n            this.getRangeFilteredProducts();\n        })\n    }\n\n    getRangeFilteredProducts = () => {\n        // to recount quantity of available products in checklists\n        const rangeFilter = [\"byPriceRange\", \"byReleaseYear\", \"bySearchQuery\"];\n        let rangeFilteredProducts = this.props.products.slice();\n        rangeFilter.forEach((filter) => {\n            rangeFilteredProducts = filterConfig[filter](rangeFilteredProducts, this.state);\n        });\n        this.setState({ rangeFilteredProducts })\n    }\n\n    handleSortingBySelection = (key, order, sortingType) => {\n        this.setState({ activeSortingFilter: {key, order, sortingType} });\n    }\n\n    handleProductListReset = () => {\n        this.setState({ \n            resetSortingSelect: true, \n            currentPage: 1,\n            activeFilter: [],\n            searchQuery: ''\n        }, () => {\n            this.handleFilteringProducts();\n            this.props.setSearchQuery(this.state.searchQuery);\n        });\n    }\n\n    getDisplayedProducts = () => {\n        const { currentPage, productsPerPage, filteredProducts, activeSortingFilter } = this.state;\n        let products = (isEmpty(filteredProducts)) ? this.props.products : filteredProducts;\n        if (!isEmpty(activeSortingFilter)) {\n            products = sortConfig[activeSortingFilter.sortingType](products, this.props.products, this.state)\n        };\n        const indexOfLastProduct = currentPage * productsPerPage;\n        const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\n        return products.slice(indexOfFirstProduct, indexOfLastProduct);\n    }\n    \n    renderProducts = () => {\n        const displayedProducts = this.getDisplayedProducts();\n\n        return(\n            (this.state.noMatch) ? (\n                <div className=\"d-flex justify-content-center\">\n                    <p>no match sorry</p>\n                </div>\n            ) : (\n                displayedProducts.map(product => {\n                    return <ProductThumbnail\n                        key={product.id}\n                        product={product}\n                        discount={this.props.discount}\n                    />  \n                })\n            )\n        );\n    }\n\n    render() {\n        const { products, isLoading } = this.props;\n        const { currentPage, noMatch, resetSortingSelect, rangeFilteredProducts } = this.state;\n        return (\n            <div className=\"ProductListWrapper d-flex flex-wrap\">\n                {(isLoading) ? (\n                    <Spinner\n                        name=\"wave\"\n                        fadeIn=\"none\"\n                        className=\"SpinnerWrapper\"\n                    />\n                ) : (\n                    <Fragment>\n                        <ProductFilter\n                            products={products}\n                            rangeFilteredProducts={(isEmpty(rangeFilteredProducts)) ? products : rangeFilteredProducts}\n                            handleRange={(range, rangeType, filterType) => this.handleRangeFilter(range, rangeType, filterType)}\n                            handleChecklist={(filter, filterType) => this.handleChecklistFilter(filter, filterType)}\n                            handleReset={() => this.handleProductListReset()}\n                        />\n                        <div className=\"ProductList col-12 col-md-9\">\n                            <SortingSelect \n                                handleSortingBySelection={(key, order, sortingType) => this.handleSortingBySelection(key, order, sortingType)} \n                                reset={resetSortingSelect}\n                            />\n                            <div className=\"d-flex justify-content-center flex-wrap\">\n                                <CSSTransitionGroup\n                                    component={Fragment}\n                                    transitionName=\"productsShow\"\n                                    transitionEnterTimeout={300}\n                                    transitionLeaveTimeout={200}>\n                                        {this.renderProducts()}\n                                </CSSTransitionGroup>\n                            </div>\n                            <PagePagination\n                                products={products}\n                                pageNumber={this.handlePageNumeration()}\n                                currentPage={currentPage}\n                                handleTurningPage={(currentPage) => this.handleTurningPage(currentPage)}\n                                noMatch={noMatch}\n                            />\n                        </div>\n                    </Fragment>\n                )}\n            </div>\n        );\n    }\n};\n\nexport default ProductList;\n","import { connect } from 'react-redux';\nimport ProductList from './ProductList';\nimport PropTypes from 'prop-types';\nimport { fetchProductList, setSearchQuery } from './ProductList.actions';\n\nProductList.propTypes = {\n    isLoading: PropTypes.bool,\n    discount: PropTypes.any,\n    searchQuery: PropTypes.object,\n    products: PropTypes.arrayOf(PropTypes.object),\n    fetchProductList: PropTypes.func,\n    setSearchQuery: PropTypes.func\n}\n\nconst mapStateToProps = (state) => {\n    const { products, isLoading, searchQuery } = state.productList;\n    const { discount } = state.cartReducer;\n    return { products, isLoading, discount, searchQuery };\n};\n\nconst mapDispatchToProps = {\n    fetchProductList,\n    setSearchQuery\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);","import React, {Fragment} from 'react';\nimport './ProductPage.styles.scss';\nimport PropTypes from 'prop-types';\n\nconst ProductPage = (props) => {\n    const { addToCart, discount } = props;\n    const { title, desc, cover, price, id, year, genre } = props.product;\n    return (\n        <div className=\"d-flex ProductPage\">\n            <div className=\"ProductPageCover d-flex flex-column col-12 col-md-4\">\n                <img \n                    className=\"ProductPageCoverPhoto\"\n                    src={process.env.PUBLIC_URL + `/images/${cover}`} \n                    alt={title} \n                />\n            </div>\n            <div className=\"ProductPageDescription col-12 col-md-8\">\n                <h1 className='ProductPageDescriptionTitle'>{title}</h1>\n                <h4 className='ProductPageDescriptionGenre'>{genre}, {year} release</h4>\n                <h3 className='ProductPageDescriptionPrice'>\n                    {(discount) ? (\n                        <Fragment>\n                            <span className=\"PrevPrice\">$ {price}</span>\n                            $ {(price * discount).toFixed(2)}\n                        </Fragment>\n                    ) : (\n                        `$ ${price}`\n                    )}\n                </h3>\n                <p className='ProductPageDescriptionText'>{desc}</p>\n                <button\n                    className=\"ProductPageDescriptionToCartBtn\" \n                    variant=\"primary\" \n                    onClick={() => addToCart(id, price)}\n                > \n                    Add to cart \n                </button>\n            </div>\n        </div>\n    )\n}\n\nProductPage.propTypes = {\n    addToCart: PropTypes.func,\n    discount: PropTypes.any,\n    product: PropTypes.object.isRequired\n}\n\nexport default ProductPage;","import React, {Component} from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { isEmpty, find } from 'lodash';\nimport { addToCart } from '../Cart/Cart.actions';\nimport { fetchProductList } from '../ProductList/ProductList.actions';\nimport ProductPage from './ProductPage';\n\nclass ProductPageContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n            selectedProduct: find(this.props.products, { 'id': this.props.match.params.id })\n        })\n    }\n\n    componentDidMount() {\n        if (isEmpty(this.props.products)) {\n            this.props.fetchProductList();\n        }\n        const apiUrl = 'http://localhost:8080/products';\n        const { id } = this.props.match.params;\n\n        axios.get(`${apiUrl}/${id}`)\n            .then(response => {\n                const selectedProduct = response.data;\n                this.setState({ selectedProduct });\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n\n    render() {\n        return (\n            (this.state.selectedProduct) ? (\n                <ProductPage \n                    product={this.state.selectedProduct} \n                    addToCart={this.props.addToCart} \n                    discount={this.props.discount} \n                />\n            ) : (\n                <div></div>\n            )\n        ) \n    }   \n}\n\nProductPageContainer.propTypes = {\n    products: PropTypes.arrayOf(PropTypes.object).isRequired,\n    discount: PropTypes.any,\n    addToCart: PropTypes.func,\n    fetchProductList: PropTypes.func\n}\n\nconst mapStateToProps = (state) => {\n    const { discount } = state.cartReducer;\n    const { products } = state.productList\n    return {\n        products,\n        discount \n    }\n};\n\nconst mapDispatchToProps = {\n    addToCart,\n    fetchProductList\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPageContainer);","import React, { Component } from 'react';\nimport CartSummary from '../Cart/CartSummary';\nimport PropTypes from 'prop-types';\n\nclass PreviousOrder extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n            summaryShown: false\n        })\n    }\n\n    handleShowSummary = () => {\n        const { summaryShown } = this.state;\n        this.setState({ summaryShown: !summaryShown })\n    }\n\n    render() {\n        const { order } = this.props;\n        const { ordered } = this.props.order;\n        return (\n            <div className=\"PreviousOrder\" onClick={() => this.handleShowSummary()}>\n                <div className=\"d-flex justify-content-between align-items-center PreviousOrderHeader\">\n                    <p className=\"PreviousOrderHeaderText\">Order #{order.id.substr(-12)}</p>\n                    <div className=\"d-flex\">\n                        <p className=\"PreviousOrderHeaderText optional\">{order.date}</p>\n                        <button className=\"PreviousOrderHeaderBtn d-flex flex-column align-items-center justify-content-center flex-md-row\">\n                            details\n                            <svg className=\"arrow-down\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path d=\"M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z\"/></svg>\n                        </button>\n                    </div>\n                </div>\n                <div className={`d-flex PreviousOrderTable ${(this.state.summaryShown) ? \"PreviousOrderTableShow\" : \"\"}`}>\n                    <CartSummary\n                        productsInCart={ordered}\n                        shippingPrice={order.shippingPrice}\n                        valueInCart={order.totalValue}\n                        products={this.props.products}\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n\nPreviousOrder.propTypes = {\n    products: PropTypes.arrayOf(PropTypes.object),\n    orders: PropTypes.arrayOf(PropTypes.object)\n}\n\nexport default PreviousOrder;","import React from 'react';\nimport { isEmpty } from 'lodash';\nimport PreviousOrder from './PreviousOrder';\nimport './AccountPage.styles.scss';\nimport PropTypes from 'prop-types';\n\nconst AccountPage = (props) => {\n    return (\n        <div className=\"AccountPage\">\n            <div className=\"d-flex AccountPageHeader\">\n                <h1 className=\"AccountPageHeaderText\">My account</h1>\n            </div>\n            <div className=\"AccountPageOrdersWrapper\">\n                <h4 className=\"AccountPageOrdersHeader\">My orders history:</h4>\n                <div className=\"d-flex flex-column-reverse AccountPageOrdersList\">\n                    {isEmpty(props.orders) ? (\n                        <h2>You have not placed any orders yet.</h2>\n                    ) : (\n                        props.orders.map((order) => (\n                            <PreviousOrder\n                                key={order.id}\n                                order={order}\n                                products={props.products}\n                            />\n                        ))\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nAccountPage.propTypes = {\n    products: PropTypes.arrayOf(PropTypes.object),\n    orders: PropTypes.arrayOf(PropTypes.object)\n}\n\nexport default AccountPage;","import React, {Component} from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { isEmpty } from 'lodash';\nimport { fetchProductList } from '../ProductList/ProductList.actions';\nimport AccountPage from './AccountPage';\n\nclass AccountPageContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n            orders: []\n        })\n    }\n\n    componentDidMount() {\n        if (isEmpty(this.props.products)) {\n            this.props.fetchProductList();\n        }\n        const apiUrl = 'http://localhost:8080/orders';\n        axios.get(apiUrl)\n            .then(response => {\n                const orders = response.data;\n                this.setState({ orders });\n            })\n            .catch(error => {\n                throw(error);\n            })\n    }\n\n    render() {\n        return (\n            <AccountPage\n                orders={this.state.orders}\n                products={this.props.products}\n            />\n        ) \n    }   \n}\n\nAccountPageContainer.propTypes = {\n    products: PropTypes.arrayOf(PropTypes.object),\n    fetchProductList: PropTypes.func\n}\n\nconst mapStateToProps = (state) => {\n    const { products } = state.productList;\n    return {\n        products \n    }\n};\n\nconst mapDispatchToProps = {\n    fetchProductList\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountPageContainer);","import React from 'react';\nimport './Faq.scss';\n\nconst Faq = props => (\n    <div className='Faq'>\n        <h1>Faq</h1>\n        <p>\"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?\"</p>\n    </div>\n)\n\nexport default Faq;","import React from 'react';\nimport './Terms.scss';\n\nconst Terms = props => (\n    <div className='Terms'>\n        <p>\"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?\"</p>\n    </div>\n)\n\nexport default Terms;","import React from 'react';\nimport './NotFound.scss';\n\nconst NotFound = props => (\n    <div className='NotFound'>\n        <h1>NotFound</h1>\n        <h2>error 404</h2> \n    </div>\n)\n\nexport default NotFound;","import React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { Route, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group-v2';\n\nimport MainLayout from './modules/MainLayout';\nimport ProductList from './modules/ProductList/ProductList.container';\nimport ProductPage from './modules/ProductPage/ProductPage.container';\nimport AccountPage from './modules/AccountPage/AccountPage.container';\nimport Faq from './modules/Faq/Faq';\nimport Terms from './modules/Terms/Terms';\nimport NotFound from './modules/NotFound/NotFound';\n// import DevTools from './DevTools';\n\nclass App extends Component {\n\n  render() {\n      return (\n        <Provider store={store}>\n          <BrowserRouter>\n              <MainLayout>\n                <Route render={({ location }) => {\n                  const { key } = location;\n                  return (\n                    <TransitionGroup>\n                       <CSSTransition\n                        key={key}\n                        timeout={{ enter: 300, exit: 300 }}\n                        classNames={'routeFade'}\n                      >\n                        <Switch key={key} location={location}>\n                          <Route exact path={'/'} component={ProductList} />\n                          <Route exact path={'/products/:id'} component={ProductPage} />\n                          <Route exact path={'/myaccount'} component={AccountPage} />\n                          <Route exact path={'/faq'} component={Faq} />\n                          <Route exact path={'/terms'} component={Terms} />\n                          <Route component={NotFound} />\n                        </Switch>\n                      </CSSTransition>\n                    </TransitionGroup>\n                  )\n                }}/>      \n              </MainLayout>\n              {/* <DevTools /> */}\n          </BrowserRouter>\n        </Provider>\n      )\n  }\n}\n\nexport default App;","\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nrender(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}